\hypertarget{i2c-th_8h}{}\section{sketchbook/rmap/i2c-\/th/i2c-\/th.h File Reference}
\label{i2c-th_8h}\index{sketchbook/rmap/i2c-\/th/i2c-\/th.\+h@{sketchbook/rmap/i2c-\/th/i2c-\/th.\+h}}
{\ttfamily \#include \char`\"{}i2c-\/th-\/config.\+h\char`\"{}}\newline
{\ttfamily \#include $<$debug.\+h$>$}\newline
{\ttfamily \#include $<$hardware\+\_\+config.\+h$>$}\newline
{\ttfamily \#include $<$avr/sleep.\+h$>$}\newline
{\ttfamily \#include $<$avr/power.\+h$>$}\newline
{\ttfamily \#include $<$avr/wdt.\+h$>$}\newline
{\ttfamily \#include $<$i2c\+\_\+utility.\+h$>$}\newline
{\ttfamily \#include $<$rmap\+\_\+utility.\+h$>$}\newline
{\ttfamily \#include $<$eeprom\+\_\+utility.\+h$>$}\newline
{\ttfamily \#include $<$Wire.\+h$>$}\newline
{\ttfamily \#include $<$Time\+Lib.\+h$>$}\newline
{\ttfamily \#include $<$typedef.\+h$>$}\newline
{\ttfamily \#include $<$registers-\/th.\+h$>$}\newline
{\ttfamily \#include $<$Sensor\+Driver.\+h$>$}\newline
Include dependency graph for i2c-\/th.h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{i2c-th_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=187pt]{i2c-th_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structconfiguration__t}{configuration\+\_\+t}
\begin{DoxyCompactList}\small\item\em E\+E\+P\+R\+OM saved configuration. \end{DoxyCompactList}\item 
struct \hyperlink{structreadable__data__t}{readable\+\_\+data\+\_\+t}
\begin{DoxyCompactList}\small\item\em Readable data through i2c bus. \end{DoxyCompactList}\item 
struct \hyperlink{structwritable__data__t}{writable\+\_\+data\+\_\+t}
\begin{DoxyCompactList}\small\item\em Writable data through i2c bus. \end{DoxyCompactList}\item 
struct \hyperlink{structsample__t}{sample\+\_\+t}
\begin{DoxyCompactList}\small\item\em Samples values for measured temperature and humidity. \end{DoxyCompactList}\item 
struct \hyperlink{structobservation__t}{observation\+\_\+t}
\begin{DoxyCompactList}\small\item\em Observations values for temperature and humidity. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{i2c-th_8h_aa0aafed44fec19806d8f9ad834be1248}{state\+\_\+t} \{ \newline
\hyperlink{i2c-rain_8h_aa0aafed44fec19806d8f9ad834be1248a0cb1b2c6a7db1f1084886c98909a3f36}{I\+N\+IT}, 
\hyperlink{i2c-rain_8h_aa0aafed44fec19806d8f9ad834be1248a34f1df650a5075369a6827770c433a91}{T\+A\+S\+K\+S\+\_\+\+E\+X\+E\+C\+U\+T\+I\+ON}, 
\hyperlink{i2c-rain_8h_aa0aafed44fec19806d8f9ad834be1248adc6f24fd6915a3f2786a1b7045406924}{E\+ND}, 
\hyperlink{i2c-th_8h_aa0aafed44fec19806d8f9ad834be1248a0cb1b2c6a7db1f1084886c98909a3f36}{I\+N\+IT}, 
\newline
\hyperlink{i2c-th_8h_aa0aafed44fec19806d8f9ad834be1248a34f1df650a5075369a6827770c433a91}{T\+A\+S\+K\+S\+\_\+\+E\+X\+E\+C\+U\+T\+I\+ON}, 
\hyperlink{i2c-th_8h_aa0aafed44fec19806d8f9ad834be1248adc6f24fd6915a3f2786a1b7045406924}{E\+ND}, 
\hyperlink{rmap_8h_aa0aafed44fec19806d8f9ad834be1248a0cb1b2c6a7db1f1084886c98909a3f36}{I\+N\+IT}, 
\hyperlink{rmap_8h_aa0aafed44fec19806d8f9ad834be1248a34f1df650a5075369a6827770c433a91}{T\+A\+S\+K\+S\+\_\+\+E\+X\+E\+C\+U\+T\+I\+ON}, 
\newline
\hyperlink{rmap_8h_aa0aafed44fec19806d8f9ad834be1248adc6f24fd6915a3f2786a1b7045406924}{E\+ND}
 \}
\item 
enum \hyperlink{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953}{sensors\+\_\+reading\+\_\+state\+\_\+t} \{ \newline
\hyperlink{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953a2cb28b4d2ce509fc382d6bd1b2d5d16f}{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+N\+IT}, 
\hyperlink{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953a7cf0f5ecc300e86aacc2deb266d14724}{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+P\+R\+E\+P\+A\+RE}, 
\hyperlink{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953a96e335eefffa76f53459df4a3cf71ac1}{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+S\+\_\+\+P\+R\+E\+P\+A\+R\+ED}, 
\hyperlink{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953a8e031386ec7bcc225e75a4a0b408d731}{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+G\+ET}, 
\newline
\hyperlink{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953a3dae8abf31ae3db2ab2d679c224fd8be}{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+S\+\_\+\+G\+E\+T\+T\+ED}, 
\hyperlink{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953ac2ebb8ebf9d29905d0a30f804376b9fa}{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+R\+E\+AD}, 
\hyperlink{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953a739c69b8d018187b0956660ed209e303}{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+N\+E\+XT}, 
\hyperlink{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953ab602220e588f3c2ac15b450239d9577a}{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+E\+ND}, 
\newline
\hyperlink{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953acfc850b971651f7c8c90cddf593fa399}{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+W\+A\+I\+T\+\_\+\+S\+T\+A\+TE}, 
\hyperlink{rmap_8h_a48bef3d022ff6f88967496ad53a6b953a2cb28b4d2ce509fc382d6bd1b2d5d16f}{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+N\+IT}, 
\hyperlink{rmap_8h_a48bef3d022ff6f88967496ad53a6b953a7cf0f5ecc300e86aacc2deb266d14724}{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+P\+R\+E\+P\+A\+RE}, 
\hyperlink{rmap_8h_a48bef3d022ff6f88967496ad53a6b953a96e335eefffa76f53459df4a3cf71ac1}{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+S\+\_\+\+P\+R\+E\+P\+A\+R\+ED}, 
\newline
\hyperlink{rmap_8h_a48bef3d022ff6f88967496ad53a6b953a8e031386ec7bcc225e75a4a0b408d731}{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+G\+ET}, 
\hyperlink{rmap_8h_a48bef3d022ff6f88967496ad53a6b953a3dae8abf31ae3db2ab2d679c224fd8be}{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+S\+\_\+\+G\+E\+T\+T\+ED}, 
\hyperlink{rmap_8h_a48bef3d022ff6f88967496ad53a6b953ac2ebb8ebf9d29905d0a30f804376b9fa}{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+R\+E\+AD}, 
\hyperlink{rmap_8h_a48bef3d022ff6f88967496ad53a6b953a739c69b8d018187b0956660ed209e303}{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+N\+E\+XT}, 
\newline
\hyperlink{rmap_8h_a48bef3d022ff6f88967496ad53a6b953ab602220e588f3c2ac15b450239d9577a}{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+E\+ND}, 
\hyperlink{rmap_8h_a48bef3d022ff6f88967496ad53a6b953acfc850b971651f7c8c90cddf593fa399}{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+W\+A\+I\+T\+\_\+\+S\+T\+A\+TE}
 \}\begin{DoxyCompactList}\small\item\em Sensors reading task finite state machine. \end{DoxyCompactList}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{i2c-th_8h_afb98a0f07c30784284f48271ffe02b97}{init\+\_\+power\+\_\+down} (uint32\+\_\+t $\ast$time\+\_\+ms, uint32\+\_\+t debouncing\+\_\+ms)
\begin{DoxyCompactList}\small\item\em Enter power down mode. \end{DoxyCompactList}\item 
void \hyperlink{i2c-th_8h_a980e73df66b14b1190bc25da430a4f12}{init\+\_\+wdt} (uint8\+\_\+t wdt\+\_\+timer)
\begin{DoxyCompactList}\small\item\em Init watchdog. \end{DoxyCompactList}\item 
void \hyperlink{i2c-th_8h_a348d23d5899ce59d18975284dfb0afc0}{init\+\_\+system} (void)
\begin{DoxyCompactList}\small\item\em Init system. \end{DoxyCompactList}\item 
void \hyperlink{i2c-th_8h_ad438327c9cf783bd9c519ce8b8ef3bfa}{init\+\_\+buffers} (void)
\begin{DoxyCompactList}\small\item\em Init buffers. \end{DoxyCompactList}\item 
void \hyperlink{i2c-th_8h_a2aae2290a141fddcea3fb6009acbb445}{init\+\_\+tasks} (void)
\begin{DoxyCompactList}\small\item\em Init tasks variable and state. \end{DoxyCompactList}\item 
void \hyperlink{i2c-th_8h_aa9c113540346b54d49b2a596e6ba8480}{init\+\_\+pins} (void)
\begin{DoxyCompactList}\small\item\em Init hardware pins. \end{DoxyCompactList}\item 
void \hyperlink{i2c-th_8h_a7c21452937863fa02a29654247eef09b}{init\+\_\+wire} (void)
\begin{DoxyCompactList}\small\item\em Init wire (i2c) library and performs checks on the bus. \end{DoxyCompactList}\item 
void \hyperlink{i2c-th_8h_a4454f968b2402a0e61deb15ab2571dab}{init\+\_\+spi} (void)
\begin{DoxyCompactList}\small\item\em Init S\+PI library. \end{DoxyCompactList}\item 
void \hyperlink{i2c-th_8h_a88533ad02465ce52d4e6de7b2095ec32}{init\+\_\+rtc} (void)
\begin{DoxyCompactList}\small\item\em Init R\+TC module. \end{DoxyCompactList}\item 
void \hyperlink{i2c-th_8h_ad7577ba7f06f417a019b69da8682ede5}{init\+\_\+sensors} (void)
\begin{DoxyCompactList}\small\item\em Create and setup sensors. \end{DoxyCompactList}\item 
void \hyperlink{i2c-th_8h_ab08b9047f47849f399950705e769be2e}{print\+\_\+configuration} (void)
\begin{DoxyCompactList}\small\item\em Print current configuration. \end{DoxyCompactList}\item 
void \hyperlink{i2c-th_8h_a1be652e7d942160a14a560e0be837358}{load\+\_\+configuration} (void)
\begin{DoxyCompactList}\small\item\em Load configuration from E\+E\+P\+R\+OM. \end{DoxyCompactList}\item 
void \hyperlink{i2c-th_8h_a8801fa7c9f323c5b8b9b2bb5b1c438ff}{save\+\_\+configuration} (bool)
\begin{DoxyCompactList}\small\item\em Save configuration to E\+E\+P\+R\+OM. \end{DoxyCompactList}\item 
void \hyperlink{i2c-th_8h_aaad2f6556489c51f2c24302e2cb4188a}{commands} (void)
\begin{DoxyCompactList}\small\item\em Performs specific operations based on the received command. \end{DoxyCompactList}\item 
void \hyperlink{i2c-th_8h_a5f6b7d25ff64c2ddaa0fadd3058fcee3}{reset\+\_\+samples\+\_\+buffer} (void)
\begin{DoxyCompactList}\small\item\em Reset samples buffers to default value. \end{DoxyCompactList}\item 
void \hyperlink{i2c-th_8h_a49fdbb850fac1a3832e7852a24c31c72}{reset\+\_\+observations\+\_\+buffer} (void)
\begin{DoxyCompactList}\small\item\em Reset observations buffers to default value. \end{DoxyCompactList}\item 
void \hyperlink{i2c-th_8h_aafa3d59a1bde3085849eee08f110612f}{exchange\+\_\+buffers} (void)
\begin{DoxyCompactList}\small\item\em Exchange reader and writer pointer to buffer. \end{DoxyCompactList}\item 
void \hyperlink{i2c-th_8h_aba0fc91d6c2829df00a9d5fe2b921c90}{samples\+\_\+processing} (bool is\+\_\+force\+\_\+processing)
\begin{DoxyCompactList}\small\item\em Main routine for processing the samples to calculate an observation. \end{DoxyCompactList}\item 
void \hyperlink{i2c-th_8h_a8b67eda853f3e8cca0c729267b492861}{observations\+\_\+processing} (void)
\begin{DoxyCompactList}\small\item\em Main routine for processing the observations to calculate a value for report. \end{DoxyCompactList}\item 
bool \hyperlink{i2c-th_8h_a1c5769e114267b210fb3812064d01dd0}{make\+\_\+observation\+\_\+from\+\_\+samples} (bool is\+\_\+force\+\_\+processing, \hyperlink{structsample__t}{sample\+\_\+t} $\ast$sample, \hyperlink{structobservation__t}{observation\+\_\+t} $\ast$observation)
\begin{DoxyCompactList}\small\item\em Processing the samples to calculate an observation when the number of the samples reaches the exact samples\+\_\+count value. \end{DoxyCompactList}\item 
bool \hyperlink{i2c-th_8h_ab301e4d552826ef91458f52963949a1d}{make\+\_\+value\+\_\+from\+\_\+samples\+\_\+and\+\_\+observations} (\hyperlink{structsample__t}{sample\+\_\+t} $\ast$sample, \hyperlink{structobservation__t}{observation\+\_\+t} $\ast$observation, volatile \hyperlink{structvalue__t}{value\+\_\+t} $\ast$value)
\begin{DoxyCompactList}\small\item\em Processing the observations to calculate a value for report when the number of the observations reaches the minimum value of S\+T\+A\+T\+I\+S\+T\+I\+C\+A\+L\+\_\+\+D\+A\+T\+A\+\_\+\+C\+O\+U\+NT. \end{DoxyCompactList}\item 
void \hyperlink{i2c-th_8h_af0e8965583b124096972fe3a9e0e7954}{sensors\+\_\+reading\+\_\+task} (void)
\begin{DoxyCompactList}\small\item\em Sensors reading Task. Read data from sensors. \end{DoxyCompactList}\item 
void \hyperlink{i2c-th_8h_a9f32a4169471a435e9364460d7b1761d}{command\+\_\+task} (void)
\begin{DoxyCompactList}\small\item\em Execute the command received on i2c bus by reading i2c received data buffer. \end{DoxyCompactList}\item 
void \hyperlink{i2c-th_8h_ac1da31566bf05976ecb87372278a1ea8}{i2c\+\_\+request\+\_\+interrupt\+\_\+handler} (void)
\begin{DoxyCompactList}\small\item\em I2C request interrupt handler. \end{DoxyCompactList}\item 
void \hyperlink{i2c-th_8h_a7f81fcf39717baf18f2e7c2eee2051ae}{i2c\+\_\+receive\+\_\+interrupt\+\_\+handler} (void)
\begin{DoxyCompactList}\small\item\em I2C receive interrupt handler. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{i2c-th_8h_a2de2634e2a016686a774342d2a88c337}\label{i2c-th_8h_a2de2634e2a016686a774342d2a88c337}} 
\hyperlink{structconfiguration__t}{configuration\+\_\+t} {\bfseries configuration}
\item 
\mbox{\Hypertarget{i2c-th_8h_afd53572545d57eace164200d778d0a9d}\label{i2c-th_8h_afd53572545d57eace164200d778d0a9d}} 
volatile \hyperlink{structreadable__data__t}{readable\+\_\+data\+\_\+t} {\bfseries readable\+\_\+data\+\_\+1}
\item 
\mbox{\Hypertarget{i2c-th_8h_ab991d3a2cbae41335c5d7d4e89244cd1}\label{i2c-th_8h_ab991d3a2cbae41335c5d7d4e89244cd1}} 
volatile \hyperlink{structreadable__data__t}{readable\+\_\+data\+\_\+t} {\bfseries readable\+\_\+data\+\_\+2}
\item 
\mbox{\Hypertarget{i2c-th_8h_a116a8c30b5e09aba7f576e28306198bf}\label{i2c-th_8h_a116a8c30b5e09aba7f576e28306198bf}} 
volatile \hyperlink{structreadable__data__t}{readable\+\_\+data\+\_\+t} $\ast$ {\bfseries readable\+\_\+data\+\_\+read\+\_\+ptr}
\item 
\mbox{\Hypertarget{i2c-th_8h_ae4373e69a329e351562eb42a1c727c9f}\label{i2c-th_8h_ae4373e69a329e351562eb42a1c727c9f}} 
volatile \hyperlink{structreadable__data__t}{readable\+\_\+data\+\_\+t} $\ast$ {\bfseries readable\+\_\+data\+\_\+write\+\_\+ptr}
\item 
\mbox{\Hypertarget{i2c-th_8h_ae366599d9d4af3d37700b6c9afe41cd7}\label{i2c-th_8h_ae366599d9d4af3d37700b6c9afe41cd7}} 
volatile \hyperlink{structreadable__data__t}{readable\+\_\+data\+\_\+t} $\ast$ {\bfseries readable\+\_\+data\+\_\+temp\+\_\+ptr}
\item 
\mbox{\Hypertarget{i2c-th_8h_a94a54440e8d793279d3f9a452df185fb}\label{i2c-th_8h_a94a54440e8d793279d3f9a452df185fb}} 
\hyperlink{structwritable__data__t}{writable\+\_\+data\+\_\+t} {\bfseries writable\+\_\+data}
\item 
\mbox{\Hypertarget{i2c-th_8h_a627231af37de36321ae22848113458e3}\label{i2c-th_8h_a627231af37de36321ae22848113458e3}} 
\hyperlink{structwritable__data__t}{writable\+\_\+data\+\_\+t} $\ast$ {\bfseries writable\+\_\+data\+\_\+ptr}
\item 
\mbox{\Hypertarget{i2c-th_8h_a5d82bd60e64bb04ee872ce02b04f6cb3}\label{i2c-th_8h_a5d82bd60e64bb04ee872ce02b04f6cb3}} 
volatile uint8\+\_\+t {\bfseries readable\+\_\+data\+\_\+address}
\item 
\mbox{\Hypertarget{i2c-th_8h_a9f8745963db0221dc148ea1f8b2a32db}\label{i2c-th_8h_a9f8745963db0221dc148ea1f8b2a32db}} 
volatile uint8\+\_\+t {\bfseries readable\+\_\+data\+\_\+length}
\item 
\mbox{\Hypertarget{i2c-th_8h_aded715a916f3df4c1fb8cfde69ebfee8}\label{i2c-th_8h_aded715a916f3df4c1fb8cfde69ebfee8}} 
volatile uint8\+\_\+t {\bfseries i2c\+\_\+rx\+\_\+data} \mbox{[}\hyperlink{hardware__config_8h_aa552d72ce15dd8ca167c4b9323f1f25d}{I2\+C\+\_\+\+M\+A\+X\+\_\+\+D\+A\+T\+A\+\_\+\+L\+E\+N\+G\+TH}\mbox{]}
\item 
\mbox{\Hypertarget{i2c-th_8h_ab51900c214aadb930a66e4581a5d205e}\label{i2c-th_8h_ab51900c214aadb930a66e4581a5d205e}} 
volatile uint8\+\_\+t {\bfseries ready\+\_\+tasks\+\_\+count}
\item 
\mbox{\Hypertarget{i2c-th_8h_a78178f418362740f92f9e8b16aebb380}\label{i2c-th_8h_a78178f418362740f92f9e8b16aebb380}} 
uint32\+\_\+t {\bfseries awakened\+\_\+event\+\_\+occurred\+\_\+time\+\_\+ms}
\item 
\mbox{\Hypertarget{i2c-th_8h_a0437e68459618830effdd71d4d1da252}\label{i2c-th_8h_a0437e68459618830effdd71d4d1da252}} 
bool {\bfseries is\+\_\+start}
\item 
\mbox{\Hypertarget{i2c-th_8h_a75c1bec124f2bc00d40f269a6171d06f}\label{i2c-th_8h_a75c1bec124f2bc00d40f269a6171d06f}} 
bool {\bfseries is\+\_\+stop}
\item 
\mbox{\Hypertarget{i2c-th_8h_aad5fc763cd3b23392848902b82a22636}\label{i2c-th_8h_aad5fc763cd3b23392848902b82a22636}} 
bool {\bfseries is\+\_\+oneshot}
\item 
\mbox{\Hypertarget{i2c-th_8h_adf47c3770ad7ac0b29836365ad1e9164}\label{i2c-th_8h_adf47c3770ad7ac0b29836365ad1e9164}} 
bool {\bfseries is\+\_\+continuous}
\item 
\hyperlink{classSensorDriver}{Sensor\+Driver} $\ast$ \hyperlink{i2c-th_8h_a5f5c708cbddb6cef952fb9a28c8ba835}{sensors} \mbox{[}\hyperlink{rmap-config_8h_af18dc3de744722cb308451b7a705611b}{U\+S\+E\+\_\+\+S\+E\+N\+S\+O\+R\+S\+\_\+\+C\+O\+U\+NT}\mbox{]}
\begin{DoxyCompactList}\small\item\em \hyperlink{classSensorDriver}{Sensor\+Driver} buffer for storing sensors parameter. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{i2c-th_8h_a7727577f63dfa4aa55feb7ddd0739f83}\label{i2c-th_8h_a7727577f63dfa4aa55feb7ddd0739f83}} 
uint8\+\_\+t \hyperlink{i2c-th_8h_a7727577f63dfa4aa55feb7ddd0739f83}{sensors\+\_\+count}
\begin{DoxyCompactList}\small\item\em Configured sensors number. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{i2c-th_8h_a3d666fceb96c16f06f662120dac2b616}\label{i2c-th_8h_a3d666fceb96c16f06f662120dac2b616}} 
\hyperlink{structsample__t}{sample\+\_\+t} \hyperlink{i2c-th_8h_a3d666fceb96c16f06f662120dac2b616}{temperature\+\_\+samples}
\begin{DoxyCompactList}\small\item\em Temperature samples. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{i2c-th_8h_a3d73872b407d68a2858f5fd4104b8f46}\label{i2c-th_8h_a3d73872b407d68a2858f5fd4104b8f46}} 
\hyperlink{structobservation__t}{observation\+\_\+t} \hyperlink{i2c-th_8h_a3d73872b407d68a2858f5fd4104b8f46}{temperature\+\_\+observations}
\begin{DoxyCompactList}\small\item\em Temperature observations. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{i2c-th_8h_ac23e316e62b5e278d2122628612aeaff}\label{i2c-th_8h_ac23e316e62b5e278d2122628612aeaff}} 
\hyperlink{structsample__t}{sample\+\_\+t} \hyperlink{i2c-th_8h_ac23e316e62b5e278d2122628612aeaff}{humidity\+\_\+samples}
\begin{DoxyCompactList}\small\item\em Humidity samples. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{i2c-th_8h_a6bac5b18b7caba6c00adfbf8c6cd909f}\label{i2c-th_8h_a6bac5b18b7caba6c00adfbf8c6cd909f}} 
\hyperlink{structobservation__t}{observation\+\_\+t} \hyperlink{i2c-th_8h_a6bac5b18b7caba6c00adfbf8c6cd909f}{humidity\+\_\+observations}
\begin{DoxyCompactList}\small\item\em Humidity observations. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{i2c-th_8h_a9a06fc202d1070e79bc838d46b69c7d1}\label{i2c-th_8h_a9a06fc202d1070e79bc838d46b69c7d1}} 
uint8\+\_\+t \hyperlink{i2c-th_8h_a9a06fc202d1070e79bc838d46b69c7d1}{samples\+\_\+count}
\begin{DoxyCompactList}\small\item\em Number of samples to be acquired for make one observation. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{i2c-th_8h_a52a9c0540faee23b8ff875f320290dea}\label{i2c-th_8h_a52a9c0540faee23b8ff875f320290dea}} 
bool \hyperlink{i2c-th_8h_a52a9c0540faee23b8ff875f320290dea}{do\+\_\+buffers\+\_\+reset}
\begin{DoxyCompactList}\small\item\em Force a buffers reset. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{i2c-th_8h_afb83826ad15c7d630e9798a9b4055316}\label{i2c-th_8h_afb83826ad15c7d630e9798a9b4055316}} 
volatile uint16\+\_\+t \hyperlink{i2c-th_8h_afb83826ad15c7d630e9798a9b4055316}{timer\+\_\+counter}
\begin{DoxyCompactList}\small\item\em Timer counter variable for execute timed task with time multiple of base Timer1 time. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{i2c-th_8h_a499e7824037af983d0524a98081e7f0b}\label{i2c-th_8h_a499e7824037af983d0524a98081e7f0b}} 
\hyperlink{i2c-rain_8h_aa0aafed44fec19806d8f9ad834be1248}{state\+\_\+t} {\bfseries state}
\item 
\hyperlink{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953}{sensors\+\_\+reading\+\_\+state\+\_\+t} \hyperlink{i2c-th_8h_a2ad2494d7aa3d5924b49127e1acefe40}{sensors\+\_\+reading\+\_\+state}
\begin{DoxyCompactList}\small\item\em Current sensors reading task state. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{i2c-th_8h_a023cce184c1d76f85eea707461e61e0c}\label{i2c-th_8h_a023cce184c1d76f85eea707461e61e0c}} 
volatile bool \hyperlink{i2c-th_8h_a023cce184c1d76f85eea707461e61e0c}{is\+\_\+event\+\_\+sensors\+\_\+reading}
\begin{DoxyCompactList}\small\item\em Enable or disable the Sensors reading task. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{i2c-th_8h_adb3fea2ed1729cd6ff65da92da27c048}\label{i2c-th_8h_adb3fea2ed1729cd6ff65da92da27c048}} 
volatile bool {\bfseries is\+\_\+event\+\_\+command\+\_\+task}
\end{DoxyCompactItemize}


\subsection{Enumeration Type Documentation}
\mbox{\Hypertarget{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953}\label{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953}} 
\index{i2c-\/th.\+h@{i2c-\/th.\+h}!sensors\+\_\+reading\+\_\+state\+\_\+t@{sensors\+\_\+reading\+\_\+state\+\_\+t}}
\index{sensors\+\_\+reading\+\_\+state\+\_\+t@{sensors\+\_\+reading\+\_\+state\+\_\+t}!i2c-\/th.\+h@{i2c-\/th.\+h}}
\subsubsection{\texorpdfstring{sensors\+\_\+reading\+\_\+state\+\_\+t}{sensors\_reading\_state\_t}}
{\footnotesize\ttfamily enum \hyperlink{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953}{sensors\+\_\+reading\+\_\+state\+\_\+t}}



Sensors reading task finite state machine. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+N\+IT@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+N\+IT}!i2c-\/th.\+h@{i2c-\/th.\+h}}\index{i2c-\/th.\+h@{i2c-\/th.\+h}!S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+N\+IT@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+N\+IT}}}\mbox{\Hypertarget{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953a2cb28b4d2ce509fc382d6bd1b2d5d16f}\label{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953a2cb28b4d2ce509fc382d6bd1b2d5d16f}} 
S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+N\+IT&init task variables \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+P\+R\+E\+P\+A\+RE@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+P\+R\+E\+P\+A\+RE}!i2c-\/th.\+h@{i2c-\/th.\+h}}\index{i2c-\/th.\+h@{i2c-\/th.\+h}!S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+P\+R\+E\+P\+A\+RE@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+P\+R\+E\+P\+A\+RE}}}\mbox{\Hypertarget{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953a7cf0f5ecc300e86aacc2deb266d14724}\label{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953a7cf0f5ecc300e86aacc2deb266d14724}} 
S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+P\+R\+E\+P\+A\+RE&prepare sensor \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+S\+\_\+\+P\+R\+E\+P\+A\+R\+ED@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+S\+\_\+\+P\+R\+E\+P\+A\+R\+ED}!i2c-\/th.\+h@{i2c-\/th.\+h}}\index{i2c-\/th.\+h@{i2c-\/th.\+h}!S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+S\+\_\+\+P\+R\+E\+P\+A\+R\+ED@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+S\+\_\+\+P\+R\+E\+P\+A\+R\+ED}}}\mbox{\Hypertarget{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953a96e335eefffa76f53459df4a3cf71ac1}\label{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953a96e335eefffa76f53459df4a3cf71ac1}} 
S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+S\+\_\+\+P\+R\+E\+P\+A\+R\+ED&check if the sensor has been prepared \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+G\+ET@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+G\+ET}!i2c-\/th.\+h@{i2c-\/th.\+h}}\index{i2c-\/th.\+h@{i2c-\/th.\+h}!S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+G\+ET@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+G\+ET}}}\mbox{\Hypertarget{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953a8e031386ec7bcc225e75a4a0b408d731}\label{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953a8e031386ec7bcc225e75a4a0b408d731}} 
S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+G\+ET&read and get values from sensor \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+S\+\_\+\+G\+E\+T\+T\+ED@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+S\+\_\+\+G\+E\+T\+T\+ED}!i2c-\/th.\+h@{i2c-\/th.\+h}}\index{i2c-\/th.\+h@{i2c-\/th.\+h}!S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+S\+\_\+\+G\+E\+T\+T\+ED@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+S\+\_\+\+G\+E\+T\+T\+ED}}}\mbox{\Hypertarget{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953a3dae8abf31ae3db2ab2d679c224fd8be}\label{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953a3dae8abf31ae3db2ab2d679c224fd8be}} 
S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+S\+\_\+\+G\+E\+T\+T\+ED&check if the sensor has been readed \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+R\+E\+AD@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+R\+E\+AD}!i2c-\/th.\+h@{i2c-\/th.\+h}}\index{i2c-\/th.\+h@{i2c-\/th.\+h}!S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+R\+E\+AD@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+R\+E\+AD}}}\mbox{\Hypertarget{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953ac2ebb8ebf9d29905d0a30f804376b9fa}\label{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953ac2ebb8ebf9d29905d0a30f804376b9fa}} 
S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+R\+E\+AD&intermediate state (future implementation...) \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+N\+E\+XT@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+N\+E\+XT}!i2c-\/th.\+h@{i2c-\/th.\+h}}\index{i2c-\/th.\+h@{i2c-\/th.\+h}!S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+N\+E\+XT@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+N\+E\+XT}}}\mbox{\Hypertarget{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953a739c69b8d018187b0956660ed209e303}\label{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953a739c69b8d018187b0956660ed209e303}} 
S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+N\+E\+XT&go to next sensor \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+E\+ND@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+E\+ND}!i2c-\/th.\+h@{i2c-\/th.\+h}}\index{i2c-\/th.\+h@{i2c-\/th.\+h}!S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+E\+ND@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+E\+ND}}}\mbox{\Hypertarget{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953ab602220e588f3c2ac15b450239d9577a}\label{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953ab602220e588f3c2ac15b450239d9577a}} 
S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+E\+ND&performs end operations and deactivate task \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+W\+A\+I\+T\+\_\+\+S\+T\+A\+TE@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+W\+A\+I\+T\+\_\+\+S\+T\+A\+TE}!i2c-\/th.\+h@{i2c-\/th.\+h}}\index{i2c-\/th.\+h@{i2c-\/th.\+h}!S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+W\+A\+I\+T\+\_\+\+S\+T\+A\+TE@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+W\+A\+I\+T\+\_\+\+S\+T\+A\+TE}}}\mbox{\Hypertarget{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953acfc850b971651f7c8c90cddf593fa399}\label{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953acfc850b971651f7c8c90cddf593fa399}} 
S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+W\+A\+I\+T\+\_\+\+S\+T\+A\+TE&non-\/blocking waiting time \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+N\+IT@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+N\+IT}!i2c-\/th.\+h@{i2c-\/th.\+h}}\index{i2c-\/th.\+h@{i2c-\/th.\+h}!S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+N\+IT@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+N\+IT}}}\mbox{\Hypertarget{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953a2cb28b4d2ce509fc382d6bd1b2d5d16f}\label{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953a2cb28b4d2ce509fc382d6bd1b2d5d16f}} 
S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+N\+IT&init task variables \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+P\+R\+E\+P\+A\+RE@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+P\+R\+E\+P\+A\+RE}!i2c-\/th.\+h@{i2c-\/th.\+h}}\index{i2c-\/th.\+h@{i2c-\/th.\+h}!S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+P\+R\+E\+P\+A\+RE@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+P\+R\+E\+P\+A\+RE}}}\mbox{\Hypertarget{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953a7cf0f5ecc300e86aacc2deb266d14724}\label{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953a7cf0f5ecc300e86aacc2deb266d14724}} 
S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+P\+R\+E\+P\+A\+RE&prepare sensor \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+S\+\_\+\+P\+R\+E\+P\+A\+R\+ED@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+S\+\_\+\+P\+R\+E\+P\+A\+R\+ED}!i2c-\/th.\+h@{i2c-\/th.\+h}}\index{i2c-\/th.\+h@{i2c-\/th.\+h}!S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+S\+\_\+\+P\+R\+E\+P\+A\+R\+ED@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+S\+\_\+\+P\+R\+E\+P\+A\+R\+ED}}}\mbox{\Hypertarget{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953a96e335eefffa76f53459df4a3cf71ac1}\label{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953a96e335eefffa76f53459df4a3cf71ac1}} 
S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+S\+\_\+\+P\+R\+E\+P\+A\+R\+ED&check if the sensor has been prepared \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+G\+ET@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+G\+ET}!i2c-\/th.\+h@{i2c-\/th.\+h}}\index{i2c-\/th.\+h@{i2c-\/th.\+h}!S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+G\+ET@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+G\+ET}}}\mbox{\Hypertarget{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953a8e031386ec7bcc225e75a4a0b408d731}\label{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953a8e031386ec7bcc225e75a4a0b408d731}} 
S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+G\+ET&read and get values from sensor \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+S\+\_\+\+G\+E\+T\+T\+ED@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+S\+\_\+\+G\+E\+T\+T\+ED}!i2c-\/th.\+h@{i2c-\/th.\+h}}\index{i2c-\/th.\+h@{i2c-\/th.\+h}!S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+S\+\_\+\+G\+E\+T\+T\+ED@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+S\+\_\+\+G\+E\+T\+T\+ED}}}\mbox{\Hypertarget{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953a3dae8abf31ae3db2ab2d679c224fd8be}\label{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953a3dae8abf31ae3db2ab2d679c224fd8be}} 
S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+I\+S\+\_\+\+G\+E\+T\+T\+ED&check if the sensor has been readed \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+R\+E\+AD@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+R\+E\+AD}!i2c-\/th.\+h@{i2c-\/th.\+h}}\index{i2c-\/th.\+h@{i2c-\/th.\+h}!S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+R\+E\+AD@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+R\+E\+AD}}}\mbox{\Hypertarget{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953ac2ebb8ebf9d29905d0a30f804376b9fa}\label{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953ac2ebb8ebf9d29905d0a30f804376b9fa}} 
S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+R\+E\+AD&intermediate state (future implementation...) \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+N\+E\+XT@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+N\+E\+XT}!i2c-\/th.\+h@{i2c-\/th.\+h}}\index{i2c-\/th.\+h@{i2c-\/th.\+h}!S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+N\+E\+XT@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+N\+E\+XT}}}\mbox{\Hypertarget{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953a739c69b8d018187b0956660ed209e303}\label{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953a739c69b8d018187b0956660ed209e303}} 
S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+N\+E\+XT&go to next sensor \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+E\+ND@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+E\+ND}!i2c-\/th.\+h@{i2c-\/th.\+h}}\index{i2c-\/th.\+h@{i2c-\/th.\+h}!S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+E\+ND@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+E\+ND}}}\mbox{\Hypertarget{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953ab602220e588f3c2ac15b450239d9577a}\label{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953ab602220e588f3c2ac15b450239d9577a}} 
S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+E\+ND&performs end operations and deactivate task \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+W\+A\+I\+T\+\_\+\+S\+T\+A\+TE@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+W\+A\+I\+T\+\_\+\+S\+T\+A\+TE}!i2c-\/th.\+h@{i2c-\/th.\+h}}\index{i2c-\/th.\+h@{i2c-\/th.\+h}!S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+W\+A\+I\+T\+\_\+\+S\+T\+A\+TE@{S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+W\+A\+I\+T\+\_\+\+S\+T\+A\+TE}}}\mbox{\Hypertarget{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953acfc850b971651f7c8c90cddf593fa399}\label{i2c-th_8h_a48bef3d022ff6f88967496ad53a6b953acfc850b971651f7c8c90cddf593fa399}} 
S\+E\+N\+S\+O\+R\+S\+\_\+\+R\+E\+A\+D\+I\+N\+G\+\_\+\+W\+A\+I\+T\+\_\+\+S\+T\+A\+TE&non-\/blocking waiting time \\
\hline

\end{DoxyEnumFields}
\mbox{\Hypertarget{i2c-th_8h_aa0aafed44fec19806d8f9ad834be1248}\label{i2c-th_8h_aa0aafed44fec19806d8f9ad834be1248}} 
\index{i2c-\/th.\+h@{i2c-\/th.\+h}!state\+\_\+t@{state\+\_\+t}}
\index{state\+\_\+t@{state\+\_\+t}!i2c-\/th.\+h@{i2c-\/th.\+h}}
\subsubsection{\texorpdfstring{state\+\_\+t}{state\_t}}
{\footnotesize\ttfamily enum \hyperlink{i2c-rain_8h_aa0aafed44fec19806d8f9ad834be1248}{state\+\_\+t}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{I\+N\+IT@{I\+N\+IT}!i2c-\/th.\+h@{i2c-\/th.\+h}}\index{i2c-\/th.\+h@{i2c-\/th.\+h}!I\+N\+IT@{I\+N\+IT}}}\mbox{\Hypertarget{i2c-th_8h_aa0aafed44fec19806d8f9ad834be1248a0cb1b2c6a7db1f1084886c98909a3f36}\label{i2c-th_8h_aa0aafed44fec19806d8f9ad834be1248a0cb1b2c6a7db1f1084886c98909a3f36}} 
I\+N\+IT&init tasks and sensors \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{T\+A\+S\+K\+S\+\_\+\+E\+X\+E\+C\+U\+T\+I\+ON@{T\+A\+S\+K\+S\+\_\+\+E\+X\+E\+C\+U\+T\+I\+ON}!i2c-\/th.\+h@{i2c-\/th.\+h}}\index{i2c-\/th.\+h@{i2c-\/th.\+h}!T\+A\+S\+K\+S\+\_\+\+E\+X\+E\+C\+U\+T\+I\+ON@{T\+A\+S\+K\+S\+\_\+\+E\+X\+E\+C\+U\+T\+I\+ON}}}\mbox{\Hypertarget{i2c-th_8h_aa0aafed44fec19806d8f9ad834be1248a34f1df650a5075369a6827770c433a91}\label{i2c-th_8h_aa0aafed44fec19806d8f9ad834be1248a34f1df650a5075369a6827770c433a91}} 
T\+A\+S\+K\+S\+\_\+\+E\+X\+E\+C\+U\+T\+I\+ON&execute active tasks \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{E\+ND@{E\+ND}!i2c-\/th.\+h@{i2c-\/th.\+h}}\index{i2c-\/th.\+h@{i2c-\/th.\+h}!E\+ND@{E\+ND}}}\mbox{\Hypertarget{i2c-th_8h_aa0aafed44fec19806d8f9ad834be1248adc6f24fd6915a3f2786a1b7045406924}\label{i2c-th_8h_aa0aafed44fec19806d8f9ad834be1248adc6f24fd6915a3f2786a1b7045406924}} 
E\+ND&go to E\+N\+T\+E\+R\+\_\+\+P\+O\+W\+E\+R\+\_\+\+D\+O\+WN or T\+A\+S\+K\+S\+\_\+\+E\+X\+E\+C\+U\+T\+I\+ON \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{I\+N\+IT@{I\+N\+IT}!i2c-\/th.\+h@{i2c-\/th.\+h}}\index{i2c-\/th.\+h@{i2c-\/th.\+h}!I\+N\+IT@{I\+N\+IT}}}\mbox{\Hypertarget{i2c-th_8h_aa0aafed44fec19806d8f9ad834be1248a0cb1b2c6a7db1f1084886c98909a3f36}\label{i2c-th_8h_aa0aafed44fec19806d8f9ad834be1248a0cb1b2c6a7db1f1084886c98909a3f36}} 
I\+N\+IT&init tasks and sensors \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{T\+A\+S\+K\+S\+\_\+\+E\+X\+E\+C\+U\+T\+I\+ON@{T\+A\+S\+K\+S\+\_\+\+E\+X\+E\+C\+U\+T\+I\+ON}!i2c-\/th.\+h@{i2c-\/th.\+h}}\index{i2c-\/th.\+h@{i2c-\/th.\+h}!T\+A\+S\+K\+S\+\_\+\+E\+X\+E\+C\+U\+T\+I\+ON@{T\+A\+S\+K\+S\+\_\+\+E\+X\+E\+C\+U\+T\+I\+ON}}}\mbox{\Hypertarget{i2c-th_8h_aa0aafed44fec19806d8f9ad834be1248a34f1df650a5075369a6827770c433a91}\label{i2c-th_8h_aa0aafed44fec19806d8f9ad834be1248a34f1df650a5075369a6827770c433a91}} 
T\+A\+S\+K\+S\+\_\+\+E\+X\+E\+C\+U\+T\+I\+ON&execute active tasks \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{E\+ND@{E\+ND}!i2c-\/th.\+h@{i2c-\/th.\+h}}\index{i2c-\/th.\+h@{i2c-\/th.\+h}!E\+ND@{E\+ND}}}\mbox{\Hypertarget{i2c-th_8h_aa0aafed44fec19806d8f9ad834be1248adc6f24fd6915a3f2786a1b7045406924}\label{i2c-th_8h_aa0aafed44fec19806d8f9ad834be1248adc6f24fd6915a3f2786a1b7045406924}} 
E\+ND&go to E\+N\+T\+E\+R\+\_\+\+P\+O\+W\+E\+R\+\_\+\+D\+O\+WN or T\+A\+S\+K\+S\+\_\+\+E\+X\+E\+C\+U\+T\+I\+ON \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{I\+N\+IT@{I\+N\+IT}!i2c-\/th.\+h@{i2c-\/th.\+h}}\index{i2c-\/th.\+h@{i2c-\/th.\+h}!I\+N\+IT@{I\+N\+IT}}}\mbox{\Hypertarget{i2c-th_8h_aa0aafed44fec19806d8f9ad834be1248a0cb1b2c6a7db1f1084886c98909a3f36}\label{i2c-th_8h_aa0aafed44fec19806d8f9ad834be1248a0cb1b2c6a7db1f1084886c98909a3f36}} 
I\+N\+IT&init tasks and sensors \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{T\+A\+S\+K\+S\+\_\+\+E\+X\+E\+C\+U\+T\+I\+ON@{T\+A\+S\+K\+S\+\_\+\+E\+X\+E\+C\+U\+T\+I\+ON}!i2c-\/th.\+h@{i2c-\/th.\+h}}\index{i2c-\/th.\+h@{i2c-\/th.\+h}!T\+A\+S\+K\+S\+\_\+\+E\+X\+E\+C\+U\+T\+I\+ON@{T\+A\+S\+K\+S\+\_\+\+E\+X\+E\+C\+U\+T\+I\+ON}}}\mbox{\Hypertarget{i2c-th_8h_aa0aafed44fec19806d8f9ad834be1248a34f1df650a5075369a6827770c433a91}\label{i2c-th_8h_aa0aafed44fec19806d8f9ad834be1248a34f1df650a5075369a6827770c433a91}} 
T\+A\+S\+K\+S\+\_\+\+E\+X\+E\+C\+U\+T\+I\+ON&execute active tasks \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{E\+ND@{E\+ND}!i2c-\/th.\+h@{i2c-\/th.\+h}}\index{i2c-\/th.\+h@{i2c-\/th.\+h}!E\+ND@{E\+ND}}}\mbox{\Hypertarget{i2c-th_8h_aa0aafed44fec19806d8f9ad834be1248adc6f24fd6915a3f2786a1b7045406924}\label{i2c-th_8h_aa0aafed44fec19806d8f9ad834be1248adc6f24fd6915a3f2786a1b7045406924}} 
E\+ND&go to E\+N\+T\+E\+R\+\_\+\+P\+O\+W\+E\+R\+\_\+\+D\+O\+WN or T\+A\+S\+K\+S\+\_\+\+E\+X\+E\+C\+U\+T\+I\+ON \\
\hline

\end{DoxyEnumFields}


\subsection{Function Documentation}
\mbox{\Hypertarget{i2c-th_8h_a9f32a4169471a435e9364460d7b1761d}\label{i2c-th_8h_a9f32a4169471a435e9364460d7b1761d}} 
\index{i2c-\/th.\+h@{i2c-\/th.\+h}!command\+\_\+task@{command\+\_\+task}}
\index{command\+\_\+task@{command\+\_\+task}!i2c-\/th.\+h@{i2c-\/th.\+h}}
\subsubsection{\texorpdfstring{command\+\_\+task()}{command\_task()}}
{\footnotesize\ttfamily void command\+\_\+task (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Execute the command received on i2c bus by reading i2c received data buffer. 

Command Task. Execute the command received on i2c bus by reading i2c received data buffer.

\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}
\mbox{\Hypertarget{i2c-th_8h_aaad2f6556489c51f2c24302e2cb4188a}\label{i2c-th_8h_aaad2f6556489c51f2c24302e2cb4188a}} 
\index{i2c-\/th.\+h@{i2c-\/th.\+h}!commands@{commands}}
\index{commands@{commands}!i2c-\/th.\+h@{i2c-\/th.\+h}}
\subsubsection{\texorpdfstring{commands()}{commands()}}
{\footnotesize\ttfamily void commands (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Performs specific operations based on the received command. 

\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}
C\+O\+N\+T\+I\+N\+U\+O\+US S\+T\+A\+RT

C\+O\+N\+T\+I\+N\+U\+O\+US S\+T\+OP

C\+O\+N\+T\+I\+N\+U\+O\+US S\+T\+A\+R\+T-\/\+S\+T\+OP

O\+N\+E\+S\+H\+OT S\+T\+A\+RT

O\+N\+E\+S\+H\+OT S\+T\+OP

O\+N\+E\+S\+H\+OT S\+T\+A\+R\+T-\/\+S\+T\+OP \mbox{\Hypertarget{i2c-th_8h_aafa3d59a1bde3085849eee08f110612f}\label{i2c-th_8h_aafa3d59a1bde3085849eee08f110612f}} 
\index{i2c-\/th.\+h@{i2c-\/th.\+h}!exchange\+\_\+buffers@{exchange\+\_\+buffers}}
\index{exchange\+\_\+buffers@{exchange\+\_\+buffers}!i2c-\/th.\+h@{i2c-\/th.\+h}}
\subsubsection{\texorpdfstring{exchange\+\_\+buffers()}{exchange\_buffers()}}
{\footnotesize\ttfamily void exchange\+\_\+buffers (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Exchange reader and writer pointer to buffer. 

\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}
\mbox{\Hypertarget{i2c-th_8h_a7f81fcf39717baf18f2e7c2eee2051ae}\label{i2c-th_8h_a7f81fcf39717baf18f2e7c2eee2051ae}} 
\index{i2c-\/th.\+h@{i2c-\/th.\+h}!i2c\+\_\+receive\+\_\+interrupt\+\_\+handler@{i2c\+\_\+receive\+\_\+interrupt\+\_\+handler}}
\index{i2c\+\_\+receive\+\_\+interrupt\+\_\+handler@{i2c\+\_\+receive\+\_\+interrupt\+\_\+handler}!i2c-\/th.\+h@{i2c-\/th.\+h}}
\subsubsection{\texorpdfstring{i2c\+\_\+receive\+\_\+interrupt\+\_\+handler()}{i2c\_receive\_interrupt\_handler()}}
{\footnotesize\ttfamily void i2c\+\_\+receive\+\_\+interrupt\+\_\+handler (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



I2C receive interrupt handler. 

\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}
\mbox{\Hypertarget{i2c-th_8h_ac1da31566bf05976ecb87372278a1ea8}\label{i2c-th_8h_ac1da31566bf05976ecb87372278a1ea8}} 
\index{i2c-\/th.\+h@{i2c-\/th.\+h}!i2c\+\_\+request\+\_\+interrupt\+\_\+handler@{i2c\+\_\+request\+\_\+interrupt\+\_\+handler}}
\index{i2c\+\_\+request\+\_\+interrupt\+\_\+handler@{i2c\+\_\+request\+\_\+interrupt\+\_\+handler}!i2c-\/th.\+h@{i2c-\/th.\+h}}
\subsubsection{\texorpdfstring{i2c\+\_\+request\+\_\+interrupt\+\_\+handler()}{i2c\_request\_interrupt\_handler()}}
{\footnotesize\ttfamily void i2c\+\_\+request\+\_\+interrupt\+\_\+handler (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



I2C request interrupt handler. 

\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}
write readable\+\_\+data\+\_\+length bytes of data stored in readable\+\_\+data\+\_\+read\+\_\+ptr (base) + readable\+\_\+data\+\_\+address (offset) on i2c bus \mbox{\Hypertarget{i2c-th_8h_ad438327c9cf783bd9c519ce8b8ef3bfa}\label{i2c-th_8h_ad438327c9cf783bd9c519ce8b8ef3bfa}} 
\index{i2c-\/th.\+h@{i2c-\/th.\+h}!init\+\_\+buffers@{init\+\_\+buffers}}
\index{init\+\_\+buffers@{init\+\_\+buffers}!i2c-\/th.\+h@{i2c-\/th.\+h}}
\subsubsection{\texorpdfstring{init\+\_\+buffers()}{init\_buffers()}}
{\footnotesize\ttfamily void init\+\_\+buffers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Init buffers. 

\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}
copy readable\+\_\+data\+\_\+2 in readable\+\_\+data\+\_\+1

copy readable\+\_\+data\+\_\+2 in readable\+\_\+data\+\_\+1 \mbox{\Hypertarget{i2c-th_8h_aa9c113540346b54d49b2a596e6ba8480}\label{i2c-th_8h_aa9c113540346b54d49b2a596e6ba8480}} 
\index{i2c-\/th.\+h@{i2c-\/th.\+h}!init\+\_\+pins@{init\+\_\+pins}}
\index{init\+\_\+pins@{init\+\_\+pins}!i2c-\/th.\+h@{i2c-\/th.\+h}}
\subsubsection{\texorpdfstring{init\+\_\+pins()}{init\_pins()}}
{\footnotesize\ttfamily void init\+\_\+pins (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Init hardware pins. 

\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}
\mbox{\Hypertarget{i2c-th_8h_afb98a0f07c30784284f48271ffe02b97}\label{i2c-th_8h_afb98a0f07c30784284f48271ffe02b97}} 
\index{i2c-\/th.\+h@{i2c-\/th.\+h}!init\+\_\+power\+\_\+down@{init\+\_\+power\+\_\+down}}
\index{init\+\_\+power\+\_\+down@{init\+\_\+power\+\_\+down}!i2c-\/th.\+h@{i2c-\/th.\+h}}
\subsubsection{\texorpdfstring{init\+\_\+power\+\_\+down()}{init\_power\_down()}}
{\footnotesize\ttfamily void init\+\_\+power\+\_\+down (\begin{DoxyParamCaption}\item[{uint32\+\_\+t $\ast$}]{time\+\_\+ms,  }\item[{uint32\+\_\+t}]{debouncing\+\_\+ms }\end{DoxyParamCaption})}



Enter power down mode. 


\begin{DoxyParams}{Parameters}
{\em time\+\_\+ms} & pointer to a variable to save the last instant you entered power down. \\
\hline
{\em debouncing\+\_\+ms} & delay to power down. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}
turn off brown-\/out

turn off brown-\/out \mbox{\Hypertarget{i2c-th_8h_a88533ad02465ce52d4e6de7b2095ec32}\label{i2c-th_8h_a88533ad02465ce52d4e6de7b2095ec32}} 
\index{i2c-\/th.\+h@{i2c-\/th.\+h}!init\+\_\+rtc@{init\+\_\+rtc}}
\index{init\+\_\+rtc@{init\+\_\+rtc}!i2c-\/th.\+h@{i2c-\/th.\+h}}
\subsubsection{\texorpdfstring{init\+\_\+rtc()}{init\_rtc()}}
{\footnotesize\ttfamily void init\+\_\+rtc (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Init R\+TC module. 

\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}
\mbox{\Hypertarget{i2c-th_8h_ad7577ba7f06f417a019b69da8682ede5}\label{i2c-th_8h_ad7577ba7f06f417a019b69da8682ede5}} 
\index{i2c-\/th.\+h@{i2c-\/th.\+h}!init\+\_\+sensors@{init\+\_\+sensors}}
\index{init\+\_\+sensors@{init\+\_\+sensors}!i2c-\/th.\+h@{i2c-\/th.\+h}}
\subsubsection{\texorpdfstring{init\+\_\+sensors()}{init\_sensors()}}
{\footnotesize\ttfamily void init\+\_\+sensors (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Create and setup sensors. 

\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}
\mbox{\Hypertarget{i2c-th_8h_a4454f968b2402a0e61deb15ab2571dab}\label{i2c-th_8h_a4454f968b2402a0e61deb15ab2571dab}} 
\index{i2c-\/th.\+h@{i2c-\/th.\+h}!init\+\_\+spi@{init\+\_\+spi}}
\index{init\+\_\+spi@{init\+\_\+spi}!i2c-\/th.\+h@{i2c-\/th.\+h}}
\subsubsection{\texorpdfstring{init\+\_\+spi()}{init\_spi()}}
{\footnotesize\ttfamily void init\+\_\+spi (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Init S\+PI library. 

\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}
\mbox{\Hypertarget{i2c-th_8h_a348d23d5899ce59d18975284dfb0afc0}\label{i2c-th_8h_a348d23d5899ce59d18975284dfb0afc0}} 
\index{i2c-\/th.\+h@{i2c-\/th.\+h}!init\+\_\+system@{init\+\_\+system}}
\index{init\+\_\+system@{init\+\_\+system}!i2c-\/th.\+h@{i2c-\/th.\+h}}
\subsubsection{\texorpdfstring{init\+\_\+system()}{init\_system()}}
{\footnotesize\ttfamily void init\+\_\+system (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Init system. 

\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}
main loop state

main loop state \mbox{\Hypertarget{i2c-th_8h_a2aae2290a141fddcea3fb6009acbb445}\label{i2c-th_8h_a2aae2290a141fddcea3fb6009acbb445}} 
\index{i2c-\/th.\+h@{i2c-\/th.\+h}!init\+\_\+tasks@{init\+\_\+tasks}}
\index{init\+\_\+tasks@{init\+\_\+tasks}!i2c-\/th.\+h@{i2c-\/th.\+h}}
\subsubsection{\texorpdfstring{init\+\_\+tasks()}{init\_tasks()}}
{\footnotesize\ttfamily void init\+\_\+tasks (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Init tasks variable and state. 

\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}
no tasks ready

reset samples\+\_\+count value

no tasks ready

reset samples\+\_\+count value \mbox{\Hypertarget{i2c-th_8h_a980e73df66b14b1190bc25da430a4f12}\label{i2c-th_8h_a980e73df66b14b1190bc25da430a4f12}} 
\index{i2c-\/th.\+h@{i2c-\/th.\+h}!init\+\_\+wdt@{init\+\_\+wdt}}
\index{init\+\_\+wdt@{init\+\_\+wdt}!i2c-\/th.\+h@{i2c-\/th.\+h}}
\subsubsection{\texorpdfstring{init\+\_\+wdt()}{init\_wdt()}}
{\footnotesize\ttfamily void init\+\_\+wdt (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{wdt\+\_\+timer }\end{DoxyParamCaption})}



Init watchdog. 


\begin{DoxyParams}{Parameters}
{\em wdt\+\_\+timer} & a time value for init watchdog (W\+D\+T\+O\+\_\+xxxx). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}
\mbox{\Hypertarget{i2c-th_8h_a7c21452937863fa02a29654247eef09b}\label{i2c-th_8h_a7c21452937863fa02a29654247eef09b}} 
\index{i2c-\/th.\+h@{i2c-\/th.\+h}!init\+\_\+wire@{init\+\_\+wire}}
\index{init\+\_\+wire@{init\+\_\+wire}!i2c-\/th.\+h@{i2c-\/th.\+h}}
\subsubsection{\texorpdfstring{init\+\_\+wire()}{init\_wire()}}
{\footnotesize\ttfamily void init\+\_\+wire (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Init wire (i2c) library and performs checks on the bus. 

\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}
clear the I2C bus first before calling Wire.\+begin()

wait for watchdog reboot

clear the I2C bus first before calling Wire.\+begin()

wait for watchdog reboot \mbox{\Hypertarget{i2c-th_8h_a1be652e7d942160a14a560e0be837358}\label{i2c-th_8h_a1be652e7d942160a14a560e0be837358}} 
\index{i2c-\/th.\+h@{i2c-\/th.\+h}!load\+\_\+configuration@{load\+\_\+configuration}}
\index{load\+\_\+configuration@{load\+\_\+configuration}!i2c-\/th.\+h@{i2c-\/th.\+h}}
\subsubsection{\texorpdfstring{load\+\_\+configuration()}{load\_configuration()}}
{\footnotesize\ttfamily void load\+\_\+configuration (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Load configuration from E\+E\+P\+R\+OM. 

\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}
read configuration from eeprom

read configuration from eeprom \mbox{\Hypertarget{i2c-th_8h_a1c5769e114267b210fb3812064d01dd0}\label{i2c-th_8h_a1c5769e114267b210fb3812064d01dd0}} 
\index{i2c-\/th.\+h@{i2c-\/th.\+h}!make\+\_\+observation\+\_\+from\+\_\+samples@{make\+\_\+observation\+\_\+from\+\_\+samples}}
\index{make\+\_\+observation\+\_\+from\+\_\+samples@{make\+\_\+observation\+\_\+from\+\_\+samples}!i2c-\/th.\+h@{i2c-\/th.\+h}}
\subsubsection{\texorpdfstring{make\+\_\+observation\+\_\+from\+\_\+samples()}{make\_observation\_from\_samples()}}
{\footnotesize\ttfamily bool make\+\_\+observation\+\_\+from\+\_\+samples (\begin{DoxyParamCaption}\item[{bool}]{is\+\_\+force\+\_\+processing,  }\item[{\hyperlink{structsample__t}{sample\+\_\+t} $\ast$}]{sample,  }\item[{\hyperlink{structobservation__t}{observation\+\_\+t} $\ast$}]{observation }\end{DoxyParamCaption})}



Processing the samples to calculate an observation when the number of the samples reaches the exact samples\+\_\+count value. 


\begin{DoxyParams}{Parameters}
{\em is\+\_\+force\+\_\+processing} & if is true, force the calculation of the observation provided there is a minimum number of samples. \\
\hline
{\em $\ast$sample} & input samples. \\
\hline
{\em $\ast$observation} & output observation. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}
default value for observation

when true, indicates that sufficient samples have been acquired for the calculation of an observation (except for samples errors)

force processing when samples\+\_\+count = S\+E\+N\+S\+O\+R\+S\+\_\+\+S\+A\+M\+P\+L\+E\+\_\+\+C\+O\+U\+N\+T\+\_\+\+M\+AX

force processing when samples\+\_\+count = S\+E\+N\+S\+O\+R\+S\+\_\+\+S\+A\+M\+P\+L\+E\+\_\+\+C\+O\+U\+N\+T\+\_\+\+M\+IN

normal behavior\+: processing when correct measure sample count + error measure sample count == samples\+\_\+count

if true, indicates that there are good enough samples for the calculation of observation

if true, you can calculate the observation

sum all good samples

calculate average of all good samples

assign a observation buffer with current value \mbox{\Hypertarget{i2c-th_8h_ab301e4d552826ef91458f52963949a1d}\label{i2c-th_8h_ab301e4d552826ef91458f52963949a1d}} 
\index{i2c-\/th.\+h@{i2c-\/th.\+h}!make\+\_\+value\+\_\+from\+\_\+samples\+\_\+and\+\_\+observations@{make\+\_\+value\+\_\+from\+\_\+samples\+\_\+and\+\_\+observations}}
\index{make\+\_\+value\+\_\+from\+\_\+samples\+\_\+and\+\_\+observations@{make\+\_\+value\+\_\+from\+\_\+samples\+\_\+and\+\_\+observations}!i2c-\/th.\+h@{i2c-\/th.\+h}}
\subsubsection{\texorpdfstring{make\+\_\+value\+\_\+from\+\_\+samples\+\_\+and\+\_\+observations()}{make\_value\_from\_samples\_and\_observations()}}
{\footnotesize\ttfamily bool make\+\_\+value\+\_\+from\+\_\+samples\+\_\+and\+\_\+observations (\begin{DoxyParamCaption}\item[{\hyperlink{structsample__t}{sample\+\_\+t} $\ast$}]{sample,  }\item[{\hyperlink{structobservation__t}{observation\+\_\+t} $\ast$}]{observation,  }\item[{volatile \hyperlink{structvalue__t}{value\+\_\+t} $\ast$}]{value }\end{DoxyParamCaption})}



Processing the observations to calculate a value for report when the number of the observations reaches the minimum value of S\+T\+A\+T\+I\+S\+T\+I\+C\+A\+L\+\_\+\+D\+A\+T\+A\+\_\+\+C\+O\+U\+NT. 


\begin{DoxyParams}{Parameters}
{\em $\ast$sample} & input samples. \\
\hline
{\em $\ast$observation} & input observation. \\
\hline
{\em $\ast$value} & output value for report. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}
new read pointer in circular observation buffer

temporary write pointer in circular observation buffer

temporary value

good observation counter

error observation counter

standard deviation

counter of the number of observation in memory

if true, you can calculate the value for report (there are at least S\+T\+A\+T\+I\+S\+T\+I\+C\+A\+L\+\_\+\+D\+A\+T\+A\+\_\+\+C\+O\+U\+NT observations)

initialize write ptr

calculate write\+\_\+ptr\+: if the end is reached, reset to the first address, else increment by one

reset value to default

loop until I have finished processing the last S\+T\+A\+T\+I\+S\+T\+I\+C\+A\+L\+\_\+\+D\+A\+T\+A\+\_\+\+C\+O\+U\+NT observations

if it is a good observation, calculate sum, minimum and maximum value. Otherwise increment error counter.

assign minimum to report value

assign maximum to report value

calculate read\+\_\+ptr\+: if the end is reached, reset to the first address, else increment by one

calculate next read\+\_\+ptr (observation-\/$>$write\+\_\+ptr + 1 for pre-\/calculate next processing)

assign read\+\_\+ptr to new next value

assign last sample to report value

assign last observation to report value

calculate observations average only if there are enough good observations

calculate standard deviation

loop until I have finished processing the last S\+T\+A\+T\+I\+S\+T\+I\+C\+A\+L\+\_\+\+D\+A\+T\+A\+\_\+\+C\+O\+U\+NT observations

if it is a good observation, calculate variance

calculate read\+\_\+ptr\+: if the end is reached, reset to the first address, else increment by one

calculate standard deviation only if there are enough good observations

calculate next read\+\_\+ptr (observation-\/$>$write\+\_\+ptr + 1 for pre-\/calculate next processing)

assign read\+\_\+ptr to new next value \mbox{\Hypertarget{i2c-th_8h_a8b67eda853f3e8cca0c729267b492861}\label{i2c-th_8h_a8b67eda853f3e8cca0c729267b492861}} 
\index{i2c-\/th.\+h@{i2c-\/th.\+h}!observations\+\_\+processing@{observations\+\_\+processing}}
\index{observations\+\_\+processing@{observations\+\_\+processing}!i2c-\/th.\+h@{i2c-\/th.\+h}}
\subsubsection{\texorpdfstring{observations\+\_\+processing()}{observations\_processing()}}
{\footnotesize\ttfamily void observations\+\_\+processing (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Main routine for processing the observations to calculate a value for report. 

\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}
if true, a new temperature report was calculated

if true, a new humidty report was calculated

reset buffer of samples value \mbox{\Hypertarget{i2c-th_8h_ab08b9047f47849f399950705e769be2e}\label{i2c-th_8h_ab08b9047f47849f399950705e769be2e}} 
\index{i2c-\/th.\+h@{i2c-\/th.\+h}!print\+\_\+configuration@{print\+\_\+configuration}}
\index{print\+\_\+configuration@{print\+\_\+configuration}!i2c-\/th.\+h@{i2c-\/th.\+h}}
\subsubsection{\texorpdfstring{print\+\_\+configuration()}{print\_configuration()}}
{\footnotesize\ttfamily void print\+\_\+configuration (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Print current configuration. 

\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}
\mbox{\Hypertarget{i2c-th_8h_a49fdbb850fac1a3832e7852a24c31c72}\label{i2c-th_8h_a49fdbb850fac1a3832e7852a24c31c72}} 
\index{i2c-\/th.\+h@{i2c-\/th.\+h}!reset\+\_\+observations\+\_\+buffer@{reset\+\_\+observations\+\_\+buffer}}
\index{reset\+\_\+observations\+\_\+buffer@{reset\+\_\+observations\+\_\+buffer}!i2c-\/th.\+h@{i2c-\/th.\+h}}
\subsubsection{\texorpdfstring{reset\+\_\+observations\+\_\+buffer()}{reset\_observations\_buffer()}}
{\footnotesize\ttfamily void reset\+\_\+observations\+\_\+buffer (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Reset observations buffers to default value. 

\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}
\mbox{\Hypertarget{i2c-th_8h_a5f6b7d25ff64c2ddaa0fadd3058fcee3}\label{i2c-th_8h_a5f6b7d25ff64c2ddaa0fadd3058fcee3}} 
\index{i2c-\/th.\+h@{i2c-\/th.\+h}!reset\+\_\+samples\+\_\+buffer@{reset\+\_\+samples\+\_\+buffer}}
\index{reset\+\_\+samples\+\_\+buffer@{reset\+\_\+samples\+\_\+buffer}!i2c-\/th.\+h@{i2c-\/th.\+h}}
\subsubsection{\texorpdfstring{reset\+\_\+samples\+\_\+buffer()}{reset\_samples\_buffer()}}
{\footnotesize\ttfamily void reset\+\_\+samples\+\_\+buffer (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Reset samples buffers to default value. 

\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}
\mbox{\Hypertarget{i2c-th_8h_aba0fc91d6c2829df00a9d5fe2b921c90}\label{i2c-th_8h_aba0fc91d6c2829df00a9d5fe2b921c90}} 
\index{i2c-\/th.\+h@{i2c-\/th.\+h}!samples\+\_\+processing@{samples\+\_\+processing}}
\index{samples\+\_\+processing@{samples\+\_\+processing}!i2c-\/th.\+h@{i2c-\/th.\+h}}
\subsubsection{\texorpdfstring{samples\+\_\+processing()}{samples\_processing()}}
{\footnotesize\ttfamily void samples\+\_\+processing (\begin{DoxyParamCaption}\item[{bool}]{is\+\_\+force\+\_\+processing }\end{DoxyParamCaption})}



Main routine for processing the samples to calculate an observation. 


\begin{DoxyParams}{Parameters}
{\em is\+\_\+force\+\_\+processing} & if is true, force the calculation of the observation provided there is a minimum number of samples. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}
if true, a new temperature observation was calculated

if true, a new humidity observation was calculated

assign new value for samples\+\_\+count \mbox{\Hypertarget{i2c-th_8h_a8801fa7c9f323c5b8b9b2bb5b1c438ff}\label{i2c-th_8h_a8801fa7c9f323c5b8b9b2bb5b1c438ff}} 
\index{i2c-\/th.\+h@{i2c-\/th.\+h}!save\+\_\+configuration@{save\+\_\+configuration}}
\index{save\+\_\+configuration@{save\+\_\+configuration}!i2c-\/th.\+h@{i2c-\/th.\+h}}
\subsubsection{\texorpdfstring{save\+\_\+configuration()}{save\_configuration()}}
{\footnotesize\ttfamily void save\+\_\+configuration (\begin{DoxyParamCaption}\item[{bool}]{is\+\_\+default }\end{DoxyParamCaption})}



Save configuration to E\+E\+P\+R\+OM. 


\begin{DoxyParams}{Parameters}
{\em is\+\_\+default} & if true save default configuration; if false save current configuration. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}
write configuration to eeprom

write configuration to eeprom \mbox{\Hypertarget{i2c-th_8h_af0e8965583b124096972fe3a9e0e7954}\label{i2c-th_8h_af0e8965583b124096972fe3a9e0e7954}} 
\index{i2c-\/th.\+h@{i2c-\/th.\+h}!sensors\+\_\+reading\+\_\+task@{sensors\+\_\+reading\+\_\+task}}
\index{sensors\+\_\+reading\+\_\+task@{sensors\+\_\+reading\+\_\+task}!i2c-\/th.\+h@{i2c-\/th.\+h}}
\subsubsection{\texorpdfstring{sensors\+\_\+reading\+\_\+task()}{sensors\_reading\_task()}}
{\footnotesize\ttfamily void sensors\+\_\+reading\+\_\+task (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Sensors reading Task. Read data from sensors. 

\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}
reset internal state of all sensors to default

prepare sensor and get delay for complete operation

if there is any delay, wait it. Otherwise go to next.

success

retry

fail

get V\+A\+L\+U\+E\+S\+\_\+\+T\+O\+\_\+\+R\+E\+A\+D\+\_\+\+F\+R\+O\+M\+\_\+\+S\+E\+N\+S\+O\+R\+\_\+\+C\+O\+U\+NT values from sensor and store it in values\+\_\+readed\+\_\+from\+\_\+sensor.

end of internal sensor state (finished read)

success

retry

fail

mark error

go to next sensor

process other internal sensor state

read sensor value

go to next sensor

end (there are no other sensors to read)

if it is in continuous mode, do samples processing 

\subsection{Variable Documentation}
\mbox{\Hypertarget{i2c-th_8h_a5f5c708cbddb6cef952fb9a28c8ba835}\label{i2c-th_8h_a5f5c708cbddb6cef952fb9a28c8ba835}} 
\index{i2c-\/th.\+h@{i2c-\/th.\+h}!sensors@{sensors}}
\index{sensors@{sensors}!i2c-\/th.\+h@{i2c-\/th.\+h}}
\subsubsection{\texorpdfstring{sensors}{sensors}}
{\footnotesize\ttfamily sensors\mbox{[}\hyperlink{rmap-config_8h_af18dc3de744722cb308451b7a705611b}{U\+S\+E\+\_\+\+S\+E\+N\+S\+O\+R\+S\+\_\+\+C\+O\+U\+NT}\mbox{]}}



\hyperlink{classSensorDriver}{Sensor\+Driver} buffer for storing sensors parameter. 

\hyperlink{classSensorDriver}{Sensor\+Driver} array structure. \mbox{\Hypertarget{i2c-th_8h_a2ad2494d7aa3d5924b49127e1acefe40}\label{i2c-th_8h_a2ad2494d7aa3d5924b49127e1acefe40}} 
\index{i2c-\/th.\+h@{i2c-\/th.\+h}!sensors\+\_\+reading\+\_\+state@{sensors\+\_\+reading\+\_\+state}}
\index{sensors\+\_\+reading\+\_\+state@{sensors\+\_\+reading\+\_\+state}!i2c-\/th.\+h@{i2c-\/th.\+h}}
\subsubsection{\texorpdfstring{sensors\+\_\+reading\+\_\+state}{sensors\_reading\_state}}
{\footnotesize\ttfamily sensors\+\_\+reading\+\_\+state}



Current sensors reading task state. 

Sensors reading task state. 